/*---
 section: Patterns
 title: Tooltips
 ---

 <div class="u-text-center">
 <span data-tooltip="Tooltip content goes in a data-tooltip attribute."><i class="material-icons">message</i> Top tooltip</span>
 </div>

 <h3>Customize</h3>

 <pre><code>
  --tooltip-arrow-size: 10px;
  --tooltip-background: var(--white);
  --tooltip-space: .5rem;
  --tooltip-z-index: 50;
  </code></pre>

 */

:root {
  --tooltip-arrow-size: 10px;
  --tooltip-background: var(--white);
  --tooltip-space: .5rem;
  --tooltip-transform: translateX(-50%);
  --tooltip-z-index: 50;
}

@define-mixin tooltip {
  cursor: help;
  display: inline-block;
  position: relative;
  text-align: left;
  transform: translate3d(0, 0, 0);
  z-index: var(--tooltip-z-index);

  &::before,
  &::after {
    @mixin fade-out;
    bottom: 100%;
    left: 100%;
    position: absolute;
    transform: translateX(-100%);
    transition: var(--global-duration) ease;
    z-index: var(--tooltip-z-index);
  }

  &:hover,
  &:focus {
    outline: none;

    &::before,
    &::after { @mixin fade-in; }

    /* Top */
    &::before { margin-bottom: calc(var(--tooltip-arrow-size) * 1 + var(--tooltip-space)); }
    &::after { margin-bottom: calc(var(--tooltip-arrow-size) * -1 + var(--tooltip-space)); }
  }

  &::before {
    background: var(--tooltip-background);
    border-radius: 2px;
    box-shadow: 0 5px 10px rgba(0, 0, 0, .3);
    color: contrast(var(--tooltip-background));
    content: attr(data-tooltip);
    font-size: .83333rem;
    line-height: 1.3;
    margin: 0;
    min-width: 300px;
    padding: var(--tooltip-space);
  }

  /* Arrow */

  &::after {
    background: transparent;
    border: var(--tooltip-arrow-size) solid transparent;
    border-top-color: var(--tooltip-background);
    content: '';
    margin-bottom: calc(var(--tooltip-arrow-size) * -2);
    position: absolute;
    z-index: calc(var(--tooltip-z-index) + 1);

  }
}

[data-tooltip] { @mixin tooltip; }
